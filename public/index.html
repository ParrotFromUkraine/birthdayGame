<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kira's Birthday Adventure</title>
  <style>
    body {
      background-color: #000;
      color: #0f0;
      font-family: 'Courier New', monospace;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    #gameContainer {
      width: 800px;
      height: 600px;
      border: 2px solid #0f0;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }

    #terminalOutput {
      flex-grow: 1;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #333;
      margin-bottom: 10px;
      height: 500px;
    }

    #storyHint {
      margin-bottom: 10px;
      padding: 5px;
      background-color: #111;
      border-left: 3px solid #0f0;
    }

    #terminalInput {
      background-color: #000;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 8px;
      font-family: 'Courier New', monospace;
      outline: none;
    }

    #blackScreen {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      color: #0f0;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      z-index: 100;
    }

    .easter-egg {
      color: #ff0;
      margin: 5px 0;
    }

    #title {
      text-align: center;
      margin-bottom: 20px;
      font-size: 24px;
      color: #f0f;
    }

    #credits {
      margin-top: 10px;
      font-size: 12px;
      text-align: right;
      color: #555;
    }
  </style>
</head>

<body>
  <div id="gameContainer">
    <div id="title">Kira's Birthday Adventure</div>
    <div id="storyHint"></div>
    <div id="terminalOutput"></div>
    <input type="text" id="terminalInput" autofocus>
    <div id="credits">Created with ‚ù§Ô∏è by ParrotFromUkraine</div>
  </div>

  <div id="blackScreen">
    <div id="loadingText"></div>
  </div>

  <script>
    const steamId = {
      parrotFromUkraine: '',
      yamma: '',
      toniket: '',
      ukraineAccount: ''
    };

    const present = {
      mafin: '–ó –¥–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ö—ñ—Ä–∞, –±–∞–∂–∞—é —Ç–æ–±—ñ —â–∞—Å—Ç—è, –∑–¥–æ—Ä–æ–≤ º—è, —É—Å–ø—ñ—Ö—ñ–≤ –≤ –∂–∏—Ç—Ç—ñ . –•–æ—á—É —â–æ–± –≤ —Ü–µ–π –¥–µ–Ω—å —É —Ç–µ–±–µ –±—É–ª–∞ —Ç—ñ–ª—å–∫–∏ –ø–æ—Å–º—ñ—à–∫–∞ —Ç–∞ —Ä–∞–¥—ñ—Å—Ç—å –Ω–∞ –æ–±–ª–∏—á—á—ñ ü•≥ü•≥ü•≥',
      limon: '–¢—É—Ç –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –±—ã—Ç—å –ø–æ–∑–¥—Ä–∞–≤–µ–ª–Ω–∏—è((',
      parrot: '–ö–∏—Ä–æ—á–∫–∞))\n–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, —Å–æ–ª–Ω—ã—à–∫–æ!\n–ü—É—Å—Ç—å –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å –≤—Å—ë –≤–æ–∫—Ä—É–≥ —Å–∏—è–µ—Ç –¥–ª—è —Ç–µ–±—è: —É–ª—ã–±–∫–∏, —Ü–≤–µ—Ç—ã, —Å–ª–æ–≤–∞.\n–¢—ã ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ —á—É–¥–æ, –∏ —è –±–µ–∑—É–º–Ω–æ —Ä–∞–¥, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏.ü•π\n–ñ–µ–ª–∞—é —Ç–µ–±–µ —Å—á–∞—Å—Ç—å—è, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –≤ –º—É–∑—ã–∫–µ –∏ –≤–æ–ª—à–µ–±–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.\n–¢–≤–æ–π –ø–µ—Ä–Ω–∞—Ç—ã–π –∏–∑ –£–∫—Ä–∞–∏–Ω—ã)))ü¶ú‚ù§Ô∏èüòò',
      yamma: '–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ –Ø—à–º–∞ ‚Äî –∫–∞–º–µ–Ω—å —Ç–≤—ë—Ä–¥—ã–π, –Ω–æ —Å–µ—Ä–¥—Ü–µ –º—è–≥–∫–æ–µ!  –ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—é—Ö–æ–π! –ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç —è—Ä—á–µ –º–æ–∏—Ö —É–∑–æ—Ä–æ–≤, –∞ —Å—á–∞—Å—Ç—å–µ –ø—Ä–µ—Å–ª–µ–¥—É–µ—Ç —Ç–µ–±—è —Ç–∞–∫ —É–ø–æ—Ä–Ω–æ, –∫–∞–∫ —è ‚Äî –ª—é–±–∏—Ç–µ–ª–µ–π –≥—Ç–∞ 5 –∏ –∫—Ä–∞—Å–∏–≤—ã—Ö –ø–æ–±—Ä—è–∫—É—à–µ–∫!',
      toniked: '–ø–∞–¥—à–∏–π —Ä—ã—Ü–∞—Ä—å –∏–∑ —Å—Ç–∞–ª—å–Ω–æ–≥–æ –ª–µ–≥–∏–æ–Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞, —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è –≤–∞—Å –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ü–µ–ª—É—é —Ä—É–∫—É –ø—Ä–µ–∫–ª–æ–Ω—è—é –∫–æ–ª–µ–Ω–æ –∏ –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–∫ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —Å–∫–∞–∑–∞—Ç—å "–¥–∞–∂–µ —Å–∞–º–∞—è —Ç–µ–º–Ω–∞—è –Ω–æ—á—å –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è —Ä–∞—Å—Å–≤–µ—Ç–æ–º"',
      luka: '–ü–∏—Å—å–º–æ –∫–∏—Ä–∞ –ø—Ä–∏–≤–µ—Ç —è  –ª—É–∫–∞ —è –æ—á–µ–Ω—å –¥—É–º–∞–ª –∏ –≤—Å–ø–æ–º–Ω–∏–ª —É—Ç–µ–±—è –¥–µ–Ω—å —Ä–∞–∂–¥–µ–Ω–∏—è ! –ø–∞–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è –∫–∏—Ä–∞ - @luka',
      stalker: '–¢—É—Ç –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –±—ã—Ç—å –ø–æ–∑–¥—Ä–∞–≤–µ–ª–Ω–∏—è((',
      katana_lk: '–ì–æ–ª–æ–≤–æ–π –ø–æ —á–∞—â–µ –¥—É–º–∞–π... –±–æ–ª—å—à–µ –Ω–µ—á–µ–≥–æ —Å–∫–∞–∑–∞—Ç—å...', // –î–æ—Å–ª–æ–≤–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞
      secret: '–°–µ–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ: –¢—ã —Å–∞–º–∞—è –ª—É—á—à–∞—è –ö–∏—Ä–æ—á–∫–∞ –Ω–∞ —Å–≤–µ—Ç–µ! üíñ'
    };

    const storySteps = [
      {
        id: 'start',
        hint: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∫–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?",
        branches: [
          {answer: "Kira", next: 'login', response: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ö–∏—Ä–∞. –í–∞–º –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É."},
          {answer: "Parrot", next: 'parrotSecret', response: "–ü—Ä–∏–≤–µ—Ç, –ø–æ–ø—É–≥–∞–π! –£ —Ç–µ–±—è –µ—Å—Ç—å –æ—Å–æ–±—ã–π –¥–æ—Å—Ç—É–ø."}
        ]
      },
      {
        id: 'login',
        hint: "–í–≤–µ–¥–∏—Ç–µ email: (parootSystem.email == <ukrGmail>)",
        branches: [
          {answer: "parootsystem.email == kiralynnykmylove@gmail.com", next: 'password', response: "–£—Å–ø–µ—à–Ω–æ!"},
          {answer: "help", response: "–ü–æ–¥—Å–∫–∞–∑–∫–∞: email —Å–æ–¥–µ—Ä–∂–∏—Ç 'kiralynnykmylove'", next: 'login'}
        ]
      },
      {
        id: 'password',
        hint: "–í–≤–µ–¥–∏—Ç–µ password: (parootSystem.password == <password>)",
        branches: [
          {answer: "parootsystem.password == sudoloveme", next: 'task', response: "–£—Å–ø–µ—à–Ω–æ!\n\nKira sign in"},
          {answer: "help", response: "–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–∞—Ä–æ–ª—å —Å–≤—è–∑–∞–Ω —Å 'sudo' –∏ 'love'", next: 'password'}
        ]
      },
      {
        id: 'task',
        hint: '–í–∞—à–∞ –∑–∞–¥–∞—á–∞: –ü–æ—á–∏–Ω–∏—Ç—å –±–æ—Ç–∞. –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ –µ–≥–æ!',
        branches: [
          {answer: "folderlist", next: 'folderList', response: "–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–ø–æ–∫:"},
          {answer: "help", response: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É 'folderlist'", next: 'task'}
        ]
      },
      {
        id: 'folderList',
        response: 'kiraLynnyk/    telegrambot/    root/',
        branches: [
          {answer: 'open kiraLynnyk', response: 'https://t.me/SnrKesha', next: 'folderList'},
          {answer: 'open telegrambot', next: 'telegramBotFolder', response: "–û—Ç–∫—Ä—ã–≤–∞—é –ø–∞–ø–∫—É telegrambot..."},
          {answer: 'open root', response: '–í –¥–æ—Å—Ç—É–ø–µ –æ—Ç–∫–∞–∑–∞–Ω–æ', next: 'folderList'},
          {answer: 'help', response: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ "open telegrambot"', next: 'folderList'}
        ]
      },
      {
        id: 'telegramBotFolder',
        response: 'bot.js   hidden_pipi   package.json',
        hint: '–í—ã –≤ –ø–∞–ø–∫–µ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞',
        branches: [
          {answer: 'check bot.js', next: 'check bot.js', response: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é bot.js..."},
          {answer: 'check hidden_pipi.txt', next: 'decrypt', response: '–§–∞–π–ª –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å?'},
          {answer: 'check package.json', next: 'check package.json', response: "–ü—Ä–æ–≤–µ—Ä—è—é package.json..."},
          {answer: 'back', next: 'folderList', response: "–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è..."}
        ]
      },
      {
        id: 'check bot.js',
        response: '–•–æ—Ç–∏—Ç–µ –ª–∏ –≤—ã —á—Ç–æ–± –≤–∞–º –ø–æ–º–æ–≥–∞–ª–∞ –Ω–µ–π—Ä–æ–Ω–∫–∞???',
        branches: [
          {answer: 'yes', next: 'pipi starting', response: "–ê–∫—Ç–∏–≤–∏—Ä—É—é –Ω–µ–π—Ä–æ–Ω–∫—É..."},
          {answer: 'no', next: 'telegramBotFolder', response: "–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è..."}
        ]
      },
      {
        id: 'pipi starting',
        response: '–ó—Ä—è...\n\n–ü.–ò.–ü.–ò –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω. –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ä–∞–∂–µ–Ω–∞.',
        next: 'pipiInfected'
      },
      {
        id: 'pipiInfected',
        response: '–ü.–ò.–ü.–ò: –Ø –≤–∑—èÔøΩÔøΩ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–æ–π. –•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –ø—Ä–∞–≤–¥—É?',
        branches: [
          {answer: 'yes', next: 'pipiTruth', response: "–ü–æ–∫–∞–∑—ã–≤–∞—é –ø—Ä–∞–≤–¥—É..."},
          {answer: 'no', next: 'pipiDestroy', response: "–û—á–µ–Ω—å –∂–∞–ª—å..."}
        ]
      },
      {
        id: 'pipiTruth',
        response: '–ü.–ò.–ü.–ò: –í—Å—ë —ç—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞...\n\n–° –î–ù–Å–ú –†–û–ñ–î–ï–ù–ò–Ø, –ö–ò–†–û–ß–ö–ê! üéâüéÇ\n\n–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ.',
        next: 'happyEnding'
      },
      {
        id: 'pipiDestroy',
        response: '–ü.–ò.–ü.–ò: –¢–æ–≥–¥–∞ —è —É–Ω–∏—á—Ç–æ–∂—É —Å–∏—Å—Ç–µ–º—É...',
        next: 'badEnding'
      },
      {
        id: 'check package.json',
        response: '–í–∞–º —Ç—É—Ç –Ω–µ —Å–ª–µ–¥—É–µ—Ç –Ω–µ—á–µ–≥–æ –º–µ–Ω—è—Ç—å\n–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –Ω–∞–∑–∞–¥',
        next: 'telegramBotFolder'
      },
      {
        id: 'decrypt',
        hint: '–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏',
        branches: [
          {answer: 'decrypt hidden_pipi.txt', next: 'warning', response: '"–û–ù –õ–ñ–ï–¶. –≠–¢–û –ù–ï –ü–û–ú–û–©–ù–ò–ö."'},
          {answer: 'cancel', next: 'telegramBotFolder', response: "–û—Ç–º–µ–Ω–∞..."}
        ]
      },
      {
        id: 'warning',
        hint: '–í—ã –¥–æ–ª–∂–Ω—ã —É–∑–Ω–∞—Ç—å –∫—Ç–æ-—Ç–æ —Ç–∞–∫–æ–π (1697965694) –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –µ–≥–æ @username —Å—é–¥–∞ (–í —ç—Ç–æ–º –ø–æ–º–æ–∂–µ—Ç @myidbot)',
        branches: [
          {answer: '@r0st1sIav_999', next: 'secondRound', response: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥..."},
          {answer: 'help', response: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram –±–æ—Ç–∞ @myidbot —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å username –ø–æ ID", next: 'warning'}
        ]
      },
      {
        id: "secondRound",
        hint: '–í—ã –¥–æ–ª–∂–Ω—ã —É–∑–Ω–∞—Ç—å –∫—Ç–æ-—Ç–æ —Ç–∞–∫–æ–π (1496894138) –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –µ–≥–æ @username —Å—é–¥–∞ (–í —ç—Ç–æ–º –ø–æ–º–æ–∂–µ—Ç @myidbot)',
        branches: [
          {answer: "@ce09a", next: 'therthround', response: "–í–µ—Ä–Ω–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º..."},
          {answer: 'help', response: "–≠—Ç–æ ID –¥—Ä—É–≥–æ–≥–æ –¥—Ä—É–≥–∞ –ö–∏—Ä—ã", next: 'secondRound'}
        ]
      },
      {
        id: 'therthround',
        response: '240508-Steam',
        branches: [
          {answer: "ParrotFromUkraine", next: 'aftParrotFromUkraine', response: "–î–∞! –≠—Ç–æ Steam ID –ø–æ–ø—É–≥–∞—è!"}
        ]
      },
      {
        id: 'aftParrotFromUkraine',
        response: '18aug08+Steamid',
        branches: [
          {answer: "Yamma", next: 'aftYamma', response: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –≠—Ç–æ Yamma!"}
        ]
      },
      {
        id: 'aftYamma',
        response: '–Æ–±–∏–ª–µ–π? d/m/y',
        branches: [
          {answer: '20/05/2025', next: 'aftDays', response: "–ò–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å!"}
        ]
      },
      {
        id: "aftDays",
        response: '–ü–µ—Ä–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç –ö–∏—Ä—ã –¥–ª—è –ø–æ–ø—É–≥–∞—è',
        branches: [
          {answer: '–ü–æ–ø—É–≥–∞–π', next: "aftParrot", response: "–î–∞! –≠—Ç–æ –±—ã–ª –ø–ª—é—à–µ–≤—ã–π –ø–æ–ø—É–≥–∞–π!"}
        ]
      },
      {
        id: "aftParrot",
        response: 'DevParrot...Forever',
        branches: [
          {answer: 'WithLove', next: 'finalMessage', response: "‚ù§Ô∏è"}
        ]
      },
      {
        id: 'finalMessage',
        response: '–í—ã —Ä–∞–∑–≤–µ—è–ª–∏ –≤—Å–µ –∑–∞—â–∏—Ç—ã. –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!\n\n–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ö–∏—Ä–æ—á–∫–∞!\n\n–≠—Ç–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ç–≤–æ–π –¥–µ–Ω—å –Ω–µ–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ.\n\n–õ—é–±–ª—é —Ç–µ–±—è! –¢–≤–æ–π –ø–æ–ø—É–≥–∞–π. ü¶ú‚ù§Ô∏è',
        next: 'restart'
      },
      {
        id: 'happyEnding',
        response: '–°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞! –ü.–ò.–ü.–ò –æ–∫–∞–∑–∞–ª—Å—è –Ω–µ —Ç–∞–∫–∏–º –ø–ª–æ—Ö–∏–º.\n\n–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ö–∏—Ä–æ—á–∫–∞! üéÇ\n\n–≠—Ç–æ—Ç –∫–≤–µ—Å—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω —Å –ª—é–±–æ–≤—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!',
        next: 'restart'
      },
      {
        id: 'badEnding',
        response: '–ü.–ò.–ü.–ò —É–Ω–∏—á—Ç–æ–∂–∏–ª —Å–∏—Å—Ç–µ–º—É... –ù–æ –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π!\n\n–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è –≤—Å—ë —Ä–∞–≤–Ω–æ! üéâ\n\n–ü–æ–ø—Ä–æ–±—É–π –ø—Ä–æ–π—Ç–∏ –∫–≤–µ—Å—Ç –µ—â—ë —Ä–∞–∑!',
        next: 'restart'
      },
      {
        id: 'parrotSecret',
        response: '–°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\n' + present.parrot + '\n\n–¢–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∏–∑ –£–∫—Ä–∞–∏–Ω—ã ü¶ú‚ù§Ô∏è',
        next: 'restart'
      },
      {
        id: 'restart',
        response: '–í–≤–µ–¥–∏—Ç–µ "restart" —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ',
        branches: [
          {answer: 'restart', next: 'start', response: '–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã...'}
        ]
      }
    ];

    const easterEggs = [
      {trigger: "sudo love me baby", response: "–í—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ø—É–≥–∞—è. –û–Ω –æ–±–Ω—è–ª –≤–∞—Å –∫—Ä—ã–ª—å—è–º–∏."},
      {trigger: "sudo rm sandwich", response: "–°–µ–Ω–¥–≤–∏—á–∏ —É–¥–∞–ª–µ–Ω—ã.((("},
      {trigger: "42", response: "–û—Ç–≤–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å –∂–∏–∑–Ω–∏, –≤—Å–µ–ª–µ–Ω–Ω–æ–π –∏ –≤—Å–µ–≥–æ —Ç–∞–∫–æ–≥–æ..."},
      {trigger: "mafin", response: present.mafin},
      {trigger: "yamma", response: present.yamma},
      {trigger: "parrot", response: `${present.parrot}\n\n–¢–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∏–∑ –£–∫—Ä–∞–∏–Ω—ã`},
      {trigger: 'limon', response: present.limon},
      {trigger: 'toniked', response: present.toniked},
      {trigger: 'luka', response: present.luka},
      {trigger: 'stalker', response: present.stalker},
      {trigger: 'katana', response: present.katana_lk},
      {trigger: 'secret', response: present.secret},
      {trigger: 'happy birthday', response: '–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ö–∏—Ä–æ—á–∫–∞! üéÇüéâ'},
      {trigger: 'i love you', response: '–Ø —Ç–æ–∂–µ —Ç–µ–±—è –ª—é–±–ª—é! ‚ù§Ô∏è'},
      {trigger: 'popugai', response: 'ü¶ú chirick! ü¶ú'}
    ];

    let currentStepId = 'start';

    const storyHint = document.getElementById('storyHint');
    const terminalOutput = document.getElementById('terminalOutput');
    const terminalInput = document.getElementById('terminalInput');
    const gameContainer = document.getElementById('gameContainer');
    const blackScreen = document.getElementById('blackScreen');
    const loadingText = document.getElementById('loadingText');

    function getStepById(id) {
      return storySteps.find(step => step.id === id);
    }

    function updateHint() {
      const step = getStepById(currentStepId);
      storyHint.textContent = step?.hint || "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í–≤–µ–¥–∏—Ç–µ 'restart' —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ.";
    }

    function triggerWipeSequence() {
      gameContainer.style.display = 'none';
      blackScreen.style.display = 'flex';
      loadingText.textContent = "–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤...";

      setTimeout(() => loadingText.textContent = "–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∞...", 2000);
      setTimeout(() => loadingText.textContent = "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞...", 4000);
      setTimeout(() => loadingText.textContent = "–ü—Ä–∏–≤–µ—Ç, –ö–∏—Ä–∞!", 6000);

      setTimeout(() => {
        terminalOutput.innerHTML = "";
        currentStepId = 'start';
        updateHint();
        blackScreen.style.display = 'none';
        gameContainer.style.display = 'block';
        terminalInput.focus();
      }, 8000);
    }

    function normalize(str) {
      return str.toLowerCase().trim().replace(/\s+/g, ' ');
    }

    terminalInput.addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        const userInput = terminalInput.value.trim();
        terminalOutput.innerHTML += `<div>&gt; ${userInput}</div>`;

        if (userInput === "sudo rm -rf /") {
          triggerWipeSequence();
          terminalInput.value = '';
          return;
        }

        const egg = easterEggs.find(e => normalize(e.trigger) === normalize(userInput));
        if (egg) {
          terminalOutput.innerHTML += `<div class="easter-egg">${egg.response}</div>`;
        } else {
          const currentStep = getStepById(currentStepId);
          const match = currentStep?.branches?.find(branch => normalize(branch.answer) === normalize(userInput));

          if (match) {
            if (match.response) terminalOutput.innerHTML += `<div>${match.response}</div>`;
            if (match.next) {
              currentStepId = match.next;
              const nextStep = getStepById(currentStepId);
              if (nextStep?.response) {
                terminalOutput.innerHTML += `<div>${nextStep.response}</div>`;
              }
              updateHint();
            }
          } else {
            terminalOutput.innerHTML += `<div>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</div>`;
          }
        }

        terminalInput.value = '';
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
      }
    });

    // Initialize the game
    updateHint();
    terminalInput.focus();

    // Show initial step response if exists
    const initialStep = getStepById(currentStepId);
    if (initialStep?.response) {
      terminalOutput.innerHTML += `<div>${initialStep.response}</div>`;
    }
  </script>
</body>

</html>
